<!DOCTYPE html>
<html>
<div id="message-list"></div>
<div id="container"></div>

<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>

<script>
    const messageList = document.getElementById("message-list");


    function addToMessageList(message) {
        let element = document.createElement("div");
        element.style = "padding: 4px;";
        element.innerHTML = `<img class="badge" src=${message.icon} /><span class="sender" style="color:${message.color}">${message.sender}</span><span class="text">: ${message.text}</span>`
        messageList.appendChild(element);
        messageList.scrollTop = messageList.scrollHeight;
    }

    var socket = io('/', { path: "/chat/" });


    socket.on('message', (message) => {
        console.log("GOT MESSAGE:", message);
        addToMessageList(message);
    });
   


</script>
</body>
<style>
    #message-list {
        max-height: 300px;
        overflow-y: scroll;
        background-color: rgba(0, 0, 0, 0.25);
        padding: 10px;
        scrollbar-width: none;
        /* Firefox */
        -ms-overflow-style: none;
        /* Internet Explorer */
    }

    #message-list::-webkit-scrollbar {
        width: 0;
        /* WebKit (Safari, Chrome) */
    }

    .text {
        
        font-size: 30px;
        color: white;
        font-family: Arial, Helvetica, sans-serif;
        vertical-align: middle;
    }
    .sender {
        vertical-align: middle;
        font-size: 32px;
        font-family: Arial, Helvetica, sans-serif;
    }
    .badge {
        
        display: inline-table;
        vertical-align: middle;
        padding-right: 4px;
        filter: drop-shadow(0 0 1px #000) drop-shadow(0 0 0 #000) drop-shadow(0 0 0 #000);
    }
</style>

</html>